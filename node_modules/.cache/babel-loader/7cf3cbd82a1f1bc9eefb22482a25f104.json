{"ast":null,"code":"import React from 'react';\nimport color from 'tinycolor2';\nimport format from 'date-fns/format';\nimport getDay from 'date-fns/getDay';\nimport getYear from 'date-fns/getYear';\nimport parseISO from 'date-fns/parseISO';\nimport differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport formatISO from 'date-fns/formatISO';\nimport getMonth from 'date-fns/getMonth';\nimport nextDay from 'date-fns/nextDay';\nimport subWeeks from 'date-fns/subWeeks';\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css_248z = \".styles_calendar__1s6ps {\\n  display: block;\\n  max-width: 100%;\\n  height: auto;\\n  overflow: visible;\\n}\\n\\n.styles_calendar__1s6ps text {\\n  fill: currentColor;\\n}\\n\\n.styles_block__1oBAV {\\n  stroke: rgba(0, 0, 0, 0.1);\\n  stroke-width: 1px;\\n  shape-rendering: geometricPrecision;\\n}\\n\\n.styles_footer__56qQv {\\n  display: flex;\\n}\\n\\n.styles_legendColors__1wUi_ {\\n  margin-left: auto;\\n  display: flex;\\n  align-items: center;\\n  gap: 0.2em;\\n}\\n\\n/*noinspection CssUnresolvedCustomProperty*/\\n@keyframes styles_loadingAnimation__1DJJ8 {\\n  0% {\\n    fill: var(--react-activity-calendar-loading);\\n  }\\n  50% {\\n    fill: var(--react-activity-calendar-loading-active);\\n  }\\n  100% {\\n    fill: var(--react-activity-calendar-loading);\\n  }\\n}\\n\";\nvar styles = {\n  \"calendar\": \"styles_calendar__1s6ps\",\n  \"block\": \"styles_block__1oBAV\",\n  \"footer\": \"styles_footer__56qQv\",\n  \"legendColors\": \"styles_legendColors__1wUi_\",\n  \"loadingAnimation\": \"styles_loadingAnimation__1DJJ8\"\n};\nstyleInject(css_248z);\nconst NAMESPACE = 'react-activity-calendar';\nconst MIN_DISTANCE_MONTH_LABELS = 2;\nconst DEFAULT_THEME = createCalendarTheme('#042a33');\n\nfunction groupByWeeks(days) {\n  let weekStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  if (days.length === 0) {\n    return [];\n  } // The calendar expects a continuous sequence of days, so fill gaps with empty activity.\n\n\n  const normalizedDays = normalizeCalendarDays(days); // Determine the first date of the calendar. If the first contribution date is not\n  // specified week day the desired day one week earlier will be selected.\n\n  const firstDate = parseISO(normalizedDays[0].date);\n  const firstCalendarDate = getDay(firstDate) === weekStart ? firstDate : subWeeks(nextDay(firstDate, weekStart), 1); // In order to correctly group contributions by week it is necessary to left pad the list,\n  // because the first date might not be desired week day.\n\n  const paddedDays = [...Array(differenceInCalendarDays(firstDate, firstCalendarDate)).fill(undefined), ...normalizedDays];\n  return Array(Math.ceil(paddedDays.length / 7)).fill(undefined).map((_, calendarWeek) => paddedDays.slice(calendarWeek * 7, calendarWeek * 7 + 7));\n}\n\nfunction normalizeCalendarDays(days) {\n  const daysMap = days.reduce((map, day) => {\n    map.set(day.date, day);\n    return map;\n  }, new Map());\n  return eachDayOfInterval({\n    start: parseISO(days[0].date),\n    end: parseISO(days[days.length - 1].date)\n  }).map(day => {\n    const date = formatISO(day, {\n      representation: 'date'\n    });\n\n    if (daysMap.has(date)) {\n      return daysMap.get(date);\n    }\n\n    return {\n      date,\n      count: 0,\n      level: 0\n    };\n  });\n}\n\nfunction getMonthLabels(weeks) {\n  let monthNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_MONTH_LABELS;\n  return weeks.reduce((labels, week, index) => {\n    const firstWeekDay = week.find(day => day !== undefined);\n\n    if (!firstWeekDay) {\n      throw new Error(`Unexpected error: Week is empty: [${week}]`);\n    }\n\n    const month = monthNames[getMonth(parseISO(firstWeekDay.date))];\n    const prev = labels[labels.length - 1];\n\n    if (index === 0 || prev.text !== month) {\n      return [...labels, {\n        x: index,\n        y: 0,\n        text: month\n      }];\n    }\n\n    return labels;\n  }, []).filter((label, index, labels) => {\n    if (index === 0) {\n      return labels[1] && labels[1].x - label.x > MIN_DISTANCE_MONTH_LABELS;\n    }\n\n    return true;\n  });\n}\n\nfunction createCalendarTheme(baseColor) {\n  let emptyColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : color('white').darken(8).toHslString();\n  const base = color(baseColor);\n\n  if (!base.isValid()) {\n    return DEFAULT_THEME;\n  }\n\n  return {\n    level4: base.setAlpha(0.92).toHslString(),\n    level3: base.setAlpha(0.76).toHslString(),\n    level2: base.setAlpha(0.6).toHslString(),\n    level1: base.setAlpha(0.44).toHslString(),\n    level0: emptyColor\n  };\n}\n\nfunction getTheme(theme, color) {\n  if (theme) {\n    return Object.assign({}, DEFAULT_THEME, theme);\n  }\n\n  if (color) {\n    return createCalendarTheme(color);\n  }\n\n  return DEFAULT_THEME;\n}\n\nfunction getClassName(name, styles) {\n  if (styles) {\n    return `${NAMESPACE}__${name} ${styles}`;\n  }\n\n  return `${NAMESPACE}__${name}`;\n}\n\nfunction generateEmptyData() {\n  const year = new Date().getFullYear();\n  const days = eachDayOfInterval({\n    start: new Date(year, 0, 1),\n    end: new Date(year, 11, 31)\n  });\n  return days.map(date => ({\n    date: formatISO(date, {\n      representation: 'date'\n    }),\n    count: 0,\n    level: 0\n  }));\n}\n\nconst DEFAULT_MONTH_LABELS = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nconst DEFAULT_WEEKDAY_LABELS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\nconst DEFAULT_LABELS = {\n  months: DEFAULT_MONTH_LABELS,\n  weekdays: DEFAULT_WEEKDAY_LABELS,\n  totalCount: '{{count}} contributions in {{year}}',\n  legend: {\n    less: 'Less',\n    more: 'More'\n  }\n};\n\nconst ActivityCalendar = _ref => {\n  let {\n    data,\n    blockMargin = 4,\n    blockRadius = 2,\n    blockSize = 12,\n    children,\n    color: color$1 = undefined,\n    dateFormat = 'MMM do, yyyy',\n    eventHandlers = {},\n    fontSize = 14,\n    hideColorLegend = false,\n    hideMonthLabels = false,\n    hideTotalCount = false,\n    labels: labelsProp,\n    loading = false,\n    showWeekdayLabels = false,\n    style = {},\n    theme: themeProp,\n    weekStart = 0 // Sunday\n\n  } = _ref;\n\n  if (loading) {\n    data = generateEmptyData();\n  }\n\n  if (data.length === 0) {\n    return null;\n  }\n\n  const weeks = groupByWeeks(data, weekStart);\n  const totalCount = data.reduce((sum, day) => sum + day.count, 0);\n  const year = getYear(parseISO(data[0]?.date));\n  const theme = getTheme(themeProp, color$1);\n  const labels = Object.assign({}, DEFAULT_LABELS, labelsProp);\n  const textHeight = hideMonthLabels ? 0 : fontSize + 2 * blockMargin;\n\n  function getDimensions() {\n    return {\n      width: weeks.length * (blockSize + blockMargin) - blockMargin,\n      height: textHeight + (blockSize + blockMargin) * 7 - blockMargin\n    };\n  }\n\n  function getTooltipMessage(contribution) {\n    const date = format(parseISO(contribution.date), dateFormat);\n    return `<strong>${contribution.count} contributions</strong> on ${date}`;\n  }\n\n  function getEventHandlers(data) {\n    return Object.keys(eventHandlers).reduce((handlers, key) => ({ ...handlers,\n      [key]: event => eventHandlers[key]?.(event)(data)\n    }), {});\n  }\n\n  function renderLabels() {\n    const style = {\n      fontSize\n    };\n\n    if (!showWeekdayLabels && hideMonthLabels) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(React.Fragment, null, showWeekdayLabels && /*#__PURE__*/React.createElement(\"g\", {\n      className: getClassName('legend-weekday'),\n      style: style\n    }, weeks[1].map((day, y) => {\n      if (!day || y % 2 === 0) {\n        return null;\n      }\n\n      const dayIndex = getDay(parseISO(day.date));\n      return /*#__PURE__*/React.createElement(\"text\", {\n        x: -2 * blockMargin,\n        y: textHeight + (fontSize / 2 + blockMargin) + (blockSize + blockMargin) * y,\n        textAnchor: \"end\",\n        key: day.date\n      }, labels.weekdays ? labels.weekdays[dayIndex] : DEFAULT_WEEKDAY_LABELS[dayIndex]);\n    })), !hideMonthLabels && /*#__PURE__*/React.createElement(\"g\", {\n      className: getClassName('legend-month'),\n      style: style\n    }, getMonthLabels(weeks, labels.months).map((_ref2, index, labels) => {\n      let {\n        text,\n        x\n      } = _ref2; // Skip the first month label if there's not enough space to the next one\n\n      if (index === 0 && labels[1] && labels[1].x - x <= MIN_DISTANCE_MONTH_LABELS) {\n        return null;\n      }\n\n      return /*#__PURE__*/React.createElement(\"text\", {\n        x: (blockSize + blockMargin) * x,\n        alignmentBaseline: \"hanging\",\n        key: x\n      }, text);\n    })));\n  }\n\n  function renderBlocks() {\n    return weeks.map((week, weekIndex) => week.map((day, dayIndex) => {\n      if (!day) {\n        return null;\n      }\n\n      const style = loading ? {\n        animation: `${styles.loadingAnimation} 1.5s ease-in-out infinite`,\n        animationDelay: `${weekIndex * 20 + dayIndex * 20}ms`\n      } : undefined;\n      return /*#__PURE__*/React.createElement(\"rect\", _extends({}, getEventHandlers(day), {\n        x: 0,\n        y: textHeight + (blockSize + blockMargin) * dayIndex,\n        width: blockSize,\n        height: blockSize,\n        fill: theme[`level${day.level}`],\n        rx: blockRadius,\n        ry: blockRadius,\n        className: styles.block,\n        \"data-date\": day.date,\n        \"data-tip\": children ? getTooltipMessage(day) : undefined,\n        key: day.date,\n        style: style\n      }));\n    })).map((week, x) => /*#__PURE__*/React.createElement(\"g\", {\n      key: x,\n      transform: `translate(${(blockSize + blockMargin) * x}, 0)`\n    }, week));\n  }\n\n  function renderFooter() {\n    var _labels$legend$less, _labels$legend$more;\n\n    if (hideTotalCount && hideColorLegend) {\n      return null;\n    }\n\n    return /*#__PURE__*/React.createElement(\"footer\", {\n      className: getClassName('footer', styles.footer),\n      style: {\n        marginTop: 2 * blockMargin,\n        fontSize\n      }\n    }, loading && /*#__PURE__*/React.createElement(\"div\", null, \"\\xA0\"), !loading && !hideTotalCount && /*#__PURE__*/React.createElement(\"div\", {\n      className: getClassName('count')\n    }, labels.totalCount ? labels.totalCount.replace('{{count}}', String(totalCount)).replace('{{year}}', String(year)) : `${totalCount} contributions in ${year}`), !loading && !hideColorLegend && /*#__PURE__*/React.createElement(\"div\", {\n      className: getClassName('legend-colors', styles.legendColors)\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginRight: '0.4em'\n      }\n    }, (_labels$legend$less = labels?.legend?.less) !== null && _labels$legend$less !== void 0 ? _labels$legend$less : 'Less'), Array(5).fill(undefined).map((_, index) => /*#__PURE__*/React.createElement(\"svg\", {\n      width: blockSize,\n      height: blockSize,\n      key: index\n    }, /*#__PURE__*/React.createElement(\"rect\", {\n      width: blockSize,\n      height: blockSize,\n      fill: theme[`level${index}`],\n      rx: blockRadius,\n      ry: blockRadius\n    }))), /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        marginLeft: '0.4em'\n      }\n    }, (_labels$legend$more = labels?.legend?.more) !== null && _labels$legend$more !== void 0 ? _labels$legend$more : 'More')));\n  }\n\n  const {\n    width,\n    height\n  } = getDimensions();\n  const additionalStyles = {\n    maxWidth: width,\n    // Required for correct colors in CSS loading animation\n    [`--${NAMESPACE}-loading`]: theme.level0,\n    [`--${NAMESPACE}-loading-active`]: color(theme.level0).darken(8).toString()\n  };\n  return /*#__PURE__*/React.createElement(\"article\", {\n    className: NAMESPACE,\n    style: { ...style,\n      ...additionalStyles\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: width,\n    height: height,\n    viewBox: `0 0 ${width} ${height}`,\n    className: getClassName('calendar', styles.calendar)\n  }, !loading && renderLabels(), renderBlocks()), renderFooter(), children);\n};\n\nconst Skeleton = props => /*#__PURE__*/React.createElement(ActivityCalendar, _extends({\n  data: []\n}, props));\n\nexport { Skeleton, createCalendarTheme, ActivityCalendar as default };","map":{"version":3,"mappings":"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","names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","NAMESPACE","MIN_DISTANCE_MONTH_LABELS","DEFAULT_THEME","createCalendarTheme","groupByWeeks","days","weekStart","length","normalizedDays","normalizeCalendarDays","firstDate","parseISO","date","firstCalendarDate","getDay","subWeeks","nextDay","paddedDays","Array","differenceInCalendarDays","fill","undefined","Math","ceil","map","_","calendarWeek","slice","daysMap","reduce","day","set","Map","eachDayOfInterval","start","end","formatISO","representation","has","get","count","level","getMonthLabels","weeks","monthNames","DEFAULT_MONTH_LABELS","labels","week","index","firstWeekDay","find","Error","month","getMonth","prev","text","x","y","filter","label","baseColor","emptyColor","color","darken","toHslString","base","isValid","level4","setAlpha","level3","level2","level1","level0","getTheme","theme","Object","assign","getClassName","name","styles","generateEmptyData","year","Date","getFullYear","DEFAULT_WEEKDAY_LABELS","DEFAULT_LABELS","months","weekdays","totalCount","legend","less","more","ActivityCalendar","_ref","data","blockMargin","blockRadius","blockSize","children","dateFormat","eventHandlers","fontSize","hideColorLegend","hideMonthLabels","hideTotalCount","labelsProp","loading","showWeekdayLabels","themeProp","sum","getYear","textHeight","getDimensions","width","height","getTooltipMessage","contribution","format","getEventHandlers","keys","handlers","key","event","renderLabels","React","className","dayIndex","textAnchor","_ref2","alignmentBaseline","renderBlocks","weekIndex","animation","loadingAnimation","animationDelay","rx","ry","block","transform","renderFooter","footer","marginTop","replace","String","legendColors","marginRight","marginLeft","additionalStyles","maxWidth","tinycolor","toString","viewBox","calendar","Skeleton","props"],"sources":["/home/gsingh/Desktop/Portfolio/node_modules/react-activity-calendar/node_modules/style-inject/dist/style-inject.es.js","/home/gsingh/Desktop/Portfolio/node_modules/react-activity-calendar/src/util.ts","/home/gsingh/Desktop/Portfolio/node_modules/react-activity-calendar/src/component/ActivityCalendar.tsx"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import color, { ColorInput } from 'tinycolor2';\nimport differenceInCalendarDays from 'date-fns/differenceInCalendarDays';\nimport eachDayOfInterval from 'date-fns/eachDayOfInterval';\nimport formatISO from 'date-fns/formatISO';\nimport getDay from 'date-fns/getDay';\nimport getMonth from 'date-fns/getMonth';\nimport nextDay from 'date-fns/nextDay';\nimport parseISO from 'date-fns/parseISO';\nimport subWeeks from 'date-fns/subWeeks';\nimport type { Day as WeekDay } from 'date-fns';\n\nimport { Day, Weeks, Theme } from './types';\n\nexport const NAMESPACE = 'react-activity-calendar';\nexport const MIN_DISTANCE_MONTH_LABELS = 2;\n\nconst DEFAULT_THEME = createCalendarTheme('#042a33');\n\ninterface Label {\n  x: number;\n  y: number;\n  text: string;\n}\n\nexport function groupByWeeks(\n  days: Array<Day>,\n  weekStart: WeekDay = 0, // 0 = Sunday\n): Weeks {\n  if (days.length === 0) {\n    return [];\n  }\n\n  // The calendar expects a continuous sequence of days, so fill gaps with empty activity.\n  const normalizedDays = normalizeCalendarDays(days);\n\n  // Determine the first date of the calendar. If the first contribution date is not\n  // specified week day the desired day one week earlier will be selected.\n  const firstDate = parseISO(normalizedDays[0].date);\n  const firstCalendarDate =\n    getDay(firstDate) === weekStart ? firstDate : subWeeks(nextDay(firstDate, weekStart), 1);\n\n  // In order to correctly group contributions by week it is necessary to left pad the list,\n  // because the first date might not be desired week day.\n  const paddedDays = [\n    ...Array(differenceInCalendarDays(firstDate, firstCalendarDate)).fill(undefined),\n    ...normalizedDays,\n  ];\n\n  return Array(Math.ceil(paddedDays.length / 7))\n    .fill(undefined)\n    .map((_, calendarWeek) => paddedDays.slice(calendarWeek * 7, calendarWeek * 7 + 7));\n}\n\nfunction normalizeCalendarDays(days: Array<Day>): Array<Day> {\n  const daysMap = days.reduce((map, day) => {\n    map.set(day.date, day);\n    return map;\n  }, new Map<string, Day>());\n\n  return eachDayOfInterval({\n    start: parseISO(days[0].date),\n    end: parseISO(days[days.length - 1].date),\n  }).map(day => {\n    const date = formatISO(day, { representation: 'date' });\n\n    if (daysMap.has(date)) {\n      return daysMap.get(date) as Day;\n    }\n\n    return {\n      date,\n      count: 0,\n      level: 0,\n    };\n  });\n}\n\nexport function getMonthLabels(\n  weeks: Weeks,\n  monthNames: Array<string> = DEFAULT_MONTH_LABELS,\n): Array<Label> {\n  return weeks\n    .reduce<Array<Label>>((labels, week, index) => {\n      const firstWeekDay = week.find(day => day !== undefined);\n\n      if (!firstWeekDay) {\n        throw new Error(`Unexpected error: Week is empty: [${week}]`);\n      }\n\n      const month = monthNames[getMonth(parseISO(firstWeekDay.date))];\n      const prev = labels[labels.length - 1];\n\n      if (index === 0 || prev.text !== month) {\n        return [\n          ...labels,\n          {\n            x: index,\n            y: 0,\n            text: month,\n          },\n        ];\n      }\n\n      return labels;\n    }, [])\n    .filter((label, index, labels) => {\n      if (index === 0) {\n        return labels[1] && labels[1].x - label.x > MIN_DISTANCE_MONTH_LABELS;\n      }\n\n      return true;\n    });\n}\n\nexport function createCalendarTheme(\n  baseColor: ColorInput,\n  emptyColor = color('white').darken(8).toHslString(),\n): Theme {\n  const base = color(baseColor);\n\n  if (!base.isValid()) {\n    return DEFAULT_THEME;\n  }\n\n  return {\n    level4: base.setAlpha(0.92).toHslString(),\n    level3: base.setAlpha(0.76).toHslString(),\n    level2: base.setAlpha(0.6).toHslString(),\n    level1: base.setAlpha(0.44).toHslString(),\n    level0: emptyColor,\n  };\n}\n\nexport function getTheme(theme?: Theme, color?: ColorInput): Theme {\n  if (theme) {\n    return Object.assign({}, DEFAULT_THEME, theme);\n  }\n\n  if (color) {\n    return createCalendarTheme(color);\n  }\n\n  return DEFAULT_THEME;\n}\n\nexport function getClassName(name: string, styles?: string): string {\n  if (styles) {\n    return `${NAMESPACE}__${name} ${styles}`;\n  }\n\n  return `${NAMESPACE}__${name}`;\n}\n\nexport function generateEmptyData(): Array<Day> {\n  const year = new Date().getFullYear();\n  const days = eachDayOfInterval({\n    start: new Date(year, 0, 1),\n    end: new Date(year, 11, 31),\n  });\n\n  return days.map(date => ({\n    date: formatISO(date, { representation: 'date' }),\n    count: 0,\n    level: 0,\n  }));\n}\n\nexport const DEFAULT_MONTH_LABELS = [\n  'Jan',\n  'Feb',\n  'Mar',\n  'Apr',\n  'May',\n  'Jun',\n  'Jul',\n  'Aug',\n  'Sep',\n  'Oct',\n  'Nov',\n  'Dec',\n];\n\nexport const DEFAULT_WEEKDAY_LABELS = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nexport const DEFAULT_LABELS = {\n  months: DEFAULT_MONTH_LABELS,\n  weekdays: DEFAULT_WEEKDAY_LABELS,\n  totalCount: '{{count}} contributions in {{year}}',\n  legend: {\n    less: 'Less',\n    more: 'More',\n  },\n};\n","import React, { FunctionComponent, CSSProperties, ReactNode } from 'react';\nimport tinycolor, { ColorInput } from 'tinycolor2';\nimport format from 'date-fns/format';\nimport getDay from 'date-fns/getDay';\nimport getYear from 'date-fns/getYear';\nimport parseISO from 'date-fns/parseISO';\nimport type { Day as WeekDay } from 'date-fns';\n\nimport styles from './styles.css';\n\nimport { Day, EventHandlerMap, Labels, ReactEvent, SVGRectEventHandler, Theme } from '../types';\nimport {\n  generateEmptyData,\n  getClassName,\n  getMonthLabels,\n  getTheme,\n  groupByWeeks,\n  MIN_DISTANCE_MONTH_LABELS,\n  NAMESPACE,\n  DEFAULT_WEEKDAY_LABELS,\n  DEFAULT_LABELS,\n} from '../util';\n\ntype CalendarData = Array<Day>;\n\nexport interface Props {\n  /**\n   * List of calendar entries. Every `Day` object requires an ISO 8601 `date`\n   * property in the format `yyyy-MM-dd`, a `count` property with the amount\n   * of tracked data and finally a `level` property in the range `0 - 4` to\n   * specify activity intensity.\n   *\n   * Example object:\n   *\n   * ```json\n   * {\n   *   date: \"2021-02-20\",\n   *   count: 16,\n   *   level: 3\n   * }\n   * ```\n   */\n  data: CalendarData;\n  /**\n   * Margin between blocks in pixels.\n   */\n  blockMargin?: number;\n  /**\n   * Border radius of blocks in pixels.\n   */\n  blockRadius?: number;\n  /**\n   * Block size in pixels.\n   */\n  blockSize?: number;\n  /**\n   * Pass `<ReactTooltip html />` as child to show tooltips.\n   */\n  children?: ReactNode;\n  /**\n   * Base color to compute graph intensity hues (darkest color). Any valid CSS color is accepted\n   */\n  color?: ColorInput;\n  /**\n   * A date-fns/format compatible date string used in tooltips.\n   */\n  dateFormat?: string;\n  /**\n   * Event handlers to register for the SVG `<rect>` elements that are used to render the calendar days. Handler signature: `event => data => void`\n   */\n  eventHandlers?: EventHandlerMap;\n  /**\n   * Font size for text in pixels.\n   */\n  fontSize?: number;\n  /**\n   * Toggle to hide color legend below calendar.\n   */\n  hideColorLegend?: boolean;\n  /**\n   * Toggle to hide month labels above calendar.\n   */\n  hideMonthLabels?: boolean;\n  /**\n   * Toggle to hide total count below calendar.\n   */\n  hideTotalCount?: boolean;\n  /**\n   * Localization strings for all calendar labels. `totalCount` supports the placeholders `{{count}}` and `{{year}}`:\n   */\n  labels?: Labels;\n  /**\n   * Toggle for loading state. `data` property will be ignored if set.\n   */\n  loading?: boolean;\n  /**\n   * Toggle to show weekday labels left to the calendar.\n   */\n  showWeekdayLabels?: boolean;\n  /**\n   * Style object to pass to component container.\n   */\n  style?: CSSProperties;\n  /**\n   * An object specifying all theme colors explicitly`.\n   */\n  theme?: Theme;\n  /**\n   * Index of day to be used as start of week. 0 represents Sunday.\n   */\n  weekStart?: WeekDay;\n}\n\nconst ActivityCalendar: FunctionComponent<Props> = ({\n  data,\n  blockMargin = 4,\n  blockRadius = 2,\n  blockSize = 12,\n  children,\n  color = undefined,\n  dateFormat = 'MMM do, yyyy',\n  eventHandlers = {},\n  fontSize = 14,\n  hideColorLegend = false,\n  hideMonthLabels = false,\n  hideTotalCount = false,\n  labels: labelsProp,\n  loading = false,\n  showWeekdayLabels = false,\n  style = {},\n  theme: themeProp,\n  weekStart = 0, // Sunday\n}: Props) => {\n  if (loading) {\n    data = generateEmptyData();\n  }\n\n  if (data.length === 0) {\n    return null;\n  }\n\n  const weeks = groupByWeeks(data, weekStart);\n  const totalCount = data.reduce((sum, day) => sum + day.count, 0);\n  const year = getYear(parseISO(data[0]?.date));\n\n  const theme = getTheme(themeProp, color);\n  const labels = Object.assign({}, DEFAULT_LABELS, labelsProp);\n  const textHeight = hideMonthLabels ? 0 : fontSize + 2 * blockMargin;\n\n  function getDimensions() {\n    return {\n      width: weeks.length * (blockSize + blockMargin) - blockMargin,\n      height: textHeight + (blockSize + blockMargin) * 7 - blockMargin,\n    };\n  }\n\n  function getTooltipMessage(contribution: Day) {\n    const date = format(parseISO(contribution.date), dateFormat);\n    return `<strong>${contribution.count} contributions</strong> on ${date}`;\n  }\n\n  function getEventHandlers(data: Day): SVGRectEventHandler {\n    return (\n      Object.keys(eventHandlers) as Array<keyof SVGRectEventHandler>\n    ).reduce<SVGRectEventHandler>(\n      (handlers, key) => ({\n        ...handlers,\n        [key]: (event: ReactEvent<SVGRectElement>) => eventHandlers[key]?.(event)(data),\n      }),\n      {},\n    );\n  }\n\n  function renderLabels() {\n    const style = {\n      fontSize,\n    };\n\n    if (!showWeekdayLabels && hideMonthLabels) {\n      return null;\n    }\n\n    return (\n      <>\n        {showWeekdayLabels && (\n          <g className={getClassName('legend-weekday')} style={style}>\n            {weeks[1].map((day, y) => {\n              if (!day || y % 2 === 0) {\n                return null;\n              }\n\n              const dayIndex = getDay(parseISO(day.date));\n\n              return (\n                <text\n                  x={-2 * blockMargin}\n                  y={textHeight + (fontSize / 2 + blockMargin) + (blockSize + blockMargin) * y}\n                  textAnchor=\"end\"\n                  key={day.date}\n                >\n                  {labels.weekdays ? labels.weekdays[dayIndex] : DEFAULT_WEEKDAY_LABELS[dayIndex]}\n                </text>\n              );\n            })}\n          </g>\n        )}\n        {!hideMonthLabels && (\n          <g className={getClassName('legend-month')} style={style}>\n            {getMonthLabels(weeks, labels.months).map(({ text, x }, index, labels) => {\n              // Skip the first month label if there's not enough space to the next one\n              if (index === 0 && labels[1] && labels[1].x - x <= MIN_DISTANCE_MONTH_LABELS) {\n                return null;\n              }\n\n              return (\n                <text x={(blockSize + blockMargin) * x} alignmentBaseline=\"hanging\" key={x}>\n                  {text}\n                </text>\n              );\n            })}\n          </g>\n        )}\n      </>\n    );\n  }\n\n  function renderBlocks() {\n    return weeks\n      .map((week, weekIndex) =>\n        week.map((day, dayIndex) => {\n          if (!day) {\n            return null;\n          }\n\n          const style = loading\n            ? {\n                animation: `${styles.loadingAnimation} 1.5s ease-in-out infinite`,\n                animationDelay: `${weekIndex * 20 + dayIndex * 20}ms`,\n              }\n            : undefined;\n\n          return (\n            <rect\n              {...getEventHandlers(day)}\n              x={0}\n              y={textHeight + (blockSize + blockMargin) * dayIndex}\n              width={blockSize}\n              height={blockSize}\n              fill={theme[`level${day.level}` as keyof Theme]}\n              rx={blockRadius}\n              ry={blockRadius}\n              className={styles.block}\n              data-date={day.date}\n              data-tip={children ? getTooltipMessage(day) : undefined}\n              key={day.date}\n              style={style}\n            />\n          );\n        }),\n      )\n      .map((week, x) => (\n        <g key={x} transform={`translate(${(blockSize + blockMargin) * x}, 0)`}>\n          {week}\n        </g>\n      ));\n  }\n\n  function renderFooter() {\n    if (hideTotalCount && hideColorLegend) {\n      return null;\n    }\n\n    return (\n      <footer\n        className={getClassName('footer', styles.footer)}\n        style={{ marginTop: 2 * blockMargin, fontSize }}\n      >\n        {/* Placeholder */}\n        {loading && <div>&nbsp;</div>}\n\n        {!loading && !hideTotalCount && (\n          <div className={getClassName('count')}>\n            {labels.totalCount\n              ? labels.totalCount\n                  .replace('{{count}}', String(totalCount))\n                  .replace('{{year}}', String(year))\n              : `${totalCount} contributions in ${year}`}\n          </div>\n        )}\n\n        {!loading && !hideColorLegend && (\n          <div className={getClassName('legend-colors', styles.legendColors)}>\n            <span style={{ marginRight: '0.4em' }}>{labels?.legend?.less ?? 'Less'}</span>\n            {Array(5)\n              .fill(undefined)\n              .map((_, index) => (\n                <svg width={blockSize} height={blockSize} key={index}>\n                  <rect\n                    width={blockSize}\n                    height={blockSize}\n                    fill={theme[`level${index}` as keyof Theme]}\n                    rx={blockRadius}\n                    ry={blockRadius}\n                  />\n                </svg>\n              ))}\n            <span style={{ marginLeft: '0.4em' }}>{labels?.legend?.more ?? 'More'}</span>\n          </div>\n        )}\n      </footer>\n    );\n  }\n\n  const { width, height } = getDimensions();\n  const additionalStyles = {\n    maxWidth: width,\n    // Required for correct colors in CSS loading animation\n    [`--${NAMESPACE}-loading`]: theme.level0,\n    [`--${NAMESPACE}-loading-active`]: tinycolor(theme.level0).darken(8).toString(),\n  };\n\n  return (\n    <article className={NAMESPACE} style={{ ...style, ...additionalStyles }}>\n      <svg\n        width={width}\n        height={height}\n        viewBox={`0 0 ${width} ${height}`}\n        className={getClassName('calendar', styles.calendar)}\n      >\n        {!loading && renderLabels()}\n        {renderBlocks()}\n      </svg>\n      {renderFooter()}\n      {children}\n    </article>\n  );\n};\n\nexport const Skeleton: FunctionComponent<Omit<Props, 'data'>> = props => (\n  <ActivityCalendar data={[]} {...props} />\n);\n\nexport default ActivityCalendar;\n"]},"metadata":{},"sourceType":"module"}